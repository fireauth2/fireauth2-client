@use '@angular/material' as mat;

.fa-auth-scopes-selection {
  display: block;

  $color-primary: var(--color-accent); // Accent color (used subtly)
  $color-surface: var(--color-surface);
  $color-text: var(--color-primary-text);
  $color-subtle: var(--color-secondary-text);

  // Use transparent variants of the accent color for subtle backgrounds
  $color-hover-bg: rgba(var(--color-accent-rgb, 31, 255, 118), 0.05);
  $color-focus-bg: rgba(var(--color-accent-rgb, 31, 255, 118), 0.12);
  $color-selected-bg: rgba(4, 67, 29, 0.137);
  $color-selected-border: rgba(#04431D, 0.4);

  .fa-discovery-accordion {
    --mat-expansion-header-collapsed-state-height: 72px;
    --mat-expansion-header-expanded-state-height: 72px;
    --mat-expansion-container-shape: 12px;
    --mat-expansion-container-text-color: $color-text;

    @apply flex flex-col gap-4;

    .fa-discovery-expansion-panel {
      border-radius: var(--mat-expansion-container-shape);
      box-shadow: var(--fa-shadow-bordered);
      background-color: $color-surface;

      &:first-of-type,
      &:last-of-type {
        border-radius: var(--mat-expansion-container-shape);
      }

      &.mat-expansion-panel-spacing {
        margin: 0;
      }
    }
  }

  .fa-login__scopes {
    @include mat.list-overrides(
      (
        list-item-container-shape: 12px,
        list-item-one-line-container-height: 52px,

        list-item-label-text-color: $color-text,
        list-item-label-text-weight: 600,
        list-item-label-text-size: 14px,

        list-item-selected-container-color: $color-selected-bg,
        list-item-hover-state-layer-color: $color-primary,
        list-item-hover-state-layer-opacity: 0.05,
        list-item-hover-label-text-color: $color-primary,
        list-item-focus-state-layer-color: $color-primary,
        list-item-focus-state-layer-opacity: 0.12,
        list-item-focus-label-text-color: $color-primary,
      )
    );

    .fa-scope-option {
      border-radius: 12px;
      margin: 4px 0;
      transition: all 0.2s ease;
      padding: 12px;
      border: 2px solid transparent;
      white-space: normal;
      line-height: normal;
      background-color: $color-surface;
      color: $color-text;

      &__description {
        // Optional
      }

      &__id {
        color: $color-subtle;
      }

      &:not(:last-child) {
        margin-bottom: 8px;
      }

      &[aria-selected='true'] {
        @include mat.list-overrides(
          (
            list-item-label-text-color: $color-primary,
            list-item-supporting-text-color: rgba($color-primary, 0.6),
          )
        );

        border-color: $color-selected-border;
        background-color: var(--mat-list-list-item-selected-container-color);

        .fa-scope-option__id {
          color: var(--mat-list-list-item-supporting-text-color) !important;
        }
      }

      &:hover {
        border-color: rgba($color-primary, 0.2);
        background-color: $color-hover-bg;
      }

      &:focus {
        border-color: rgba($color-primary, 0.4);
        background-color: $color-focus-bg;
      }
    }
  }
}
